<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Dropbox Integration</title>
	<!-- Include Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
	<!-- Include custom CSS if needed -->
	<link rel="stylesheet" href="../public/stylesheets/style.css">
	<style>
		.outer {
			padding-top: 5vh;
		}
	</style>
</head>

<body>
	<div class="outer container">
		<div class="outer container">
			<header style="display: flex; align-items: center;">
				<img src="/Assets/BrainSync.png" alt="BrainSync(Brain in Sink)"
					style="border-radius: 50%; width: 90px;">
				<h1 style="margin-left: 10px;">BrainSync</h1>
				<div class="user-profile" style="margin-left: auto;">
					<span>{{username}}</span>
					<button class="btn mr-2 btn-light-pink mx-3" onclick="logout()">Logout</button>
				</div>
			</header>
			<p style="margin-top: 10px;">Where thoughts become reality <i>with friends!</i></p>
			<nav class="navbar navbar-expand-lg navbar-light">
				<div class="container-fluid">
					<a class="navbar-brand" href="/home">Home Dashboard</a>
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
						aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarNav">
						<ul class="navbar-nav">
							<li class="nav-item">
								<a class="nav-link" href="/communications">Communications</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="/projects">Projects</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="/filesTab">Files</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="/calendar">Calendar</a>
							</li>
						</ul>
					</div>
				</div>
			</nav>
		</div>
	</div>
	<button id="dropbox-login-btn" class="btn btn-info" onclick="location.href='/auth/dropbox'">Sign in with
		Dropbox</button>
	<div id="files-container" class="files-container"></div>
	<div class="container-fluid">
		<div class="row">
			<div class="col-4">

				<!-- Side panel for folders and file actions -->
				<div class="d-flex flex-column h-100">
					<div class="d-flex justify-content-between align-items-center mb-2">
						<h5>Folders</h5>
						<button id="create-folder-btn" class="btn btn-primary btn-sm">Create Folder</button>
					</div>
					<div class="folders-container mb-2">
						<!-- Folders will be dynamically populated here -->
						{{!-- sort files into different folders --}}
						<select id="folder-select" class="form-select">
							<option value="" selected>Choose a folder...</option>
						</select>
					</div>
					<div class="d-flex justify-content-between align-items-center mb-2">
						<h5>Actions</h5>
					</div>
					<div class="d-flex flex-column">
						<button id="upload-button" class="btn btn-primary">Upload File</button>
						<input id="upload-input" type="file" style="display:none;">
						<button id="create-file-btn" class="btn btn-secondary mb-2">Create File</button>
					</div>
				</div>
			</div>
			<div class="col-8">
				<input type="file" id="file-input" class="form-control-file">
				<button id="upload-file-btn" class="btn btn-primary">Upload File</button>

				<!-- Container for file listing and preview -->
				<div class="d-flex flex-column h-100">
					<h5>Files</h5>
					<div class="files-container">
						<!-- Files will be dynamically populated here -->
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Include Bootstrap JavaScript Bundle -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Include jQuery -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<!-- Include custom JavaScript for Dropbox integration -->
	<script src="/javascripts/dropboxIntegration.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/5.10.1/main.min.js"
		integrity="sha512-W5DP5S5nQnW8Xv5uo7fdjgEE6RjZavOxW2/t/1XPgjzAt/3F6X9O6YNfILm4kOJL4j0OMbWV7mIY5d5jMTzS8DQ=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="/js/calendar.js"></script>
	<script src="/js/app.js"></script>
</body>

</html>